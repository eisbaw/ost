---
id: TASK-0001.01
title: 'TUI: Basic app shell with header and status bar'
status: Done
assignee:
  - '@claude'
created_date: '2026-02-04 20:52'
updated_date: '2026-02-04 21:08'
labels:
  - tui
  - ratatui
dependencies: []
references:
  - docs/specs/tui.txt
parent_task_id: TASK-0001
priority: high
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Create the foundational TUI app structure using Ratatui with header bar (app title, help button, online status, user profile) and status bar (connection state, current channel, member count, active pane).
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 Header bar displays app title, help indicator, online status, and user name
- [x] #2 Status bar shows connection state, channel name, member count, and active pane indicator
- [x] #3 App runs in alternate screen mode and handles terminal resize
- [x] #4 xterm-tmux validation: Launch app in xterm, capture screenshot showing header and status bars rendered correctly
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
1. Add ratatui and crossterm dependencies to Cargo.toml
2. Create src/tui/mod.rs with TUI subcommand integration
3. Create src/tui/app.rs with App struct and main loop
4. Create src/tui/ui.rs with header bar and status bar rendering
5. Add 'tui' subcommand to main.rs CLI
6. Build and test the TUI in xterm using xterm-tmux-control skill
7. Validate all acceptance criteria are met
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
Implementation complete:
- Created src/tui/mod.rs, app.rs, ui.rs
- Added tui subcommand to main.rs
- Header displays: OST Client, [?] Help, * online, User
- Status bar shows: * Connected, #general, 12 members, Tab: sidebar, ?: help
- App runs in alternate screen mode (via ratatui::init/restore)
- Terminal resize handled automatically by ratatui event loop
- Validated in xterm with tmux capture

Implemented TUI shell with header/status bars. Build passes. Validated in xterm-tmux.
<!-- SECTION:NOTES:END -->

## Final Summary

<!-- SECTION:FINAL_SUMMARY:BEGIN -->
Added basic TUI shell with header and status bars using Ratatui 0.29.

Changes:
- Created src/tui/ module with mod.rs, app.rs, and ui.rs
- Added Tui subcommand to main.rs Commands enum
- Header bar: app title, help indicator, online status, user name
- Status bar: connection state, channel name, member count, active pane, help hint
- Event loop handles q to quit and terminal resize

Files:
- src/tui/mod.rs - Module exports
- src/tui/app.rs - App state and event loop (ratatui::init/restore for alt screen)
- src/tui/ui.rs - Header and status bar rendering
- src/main.rs - Added mod tui, Tui subcommand, and match arm
- Justfile - Added tui recipe

Validated: TUI renders correctly in xterm-tmux session, quit works, resize handled.
<!-- SECTION:FINAL_SUMMARY:END -->
