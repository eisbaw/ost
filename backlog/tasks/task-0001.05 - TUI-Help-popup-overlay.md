---
id: TASK-0001.05
title: 'TUI: Help popup overlay'
status: Done
assignee:
  - '@claude'
created_date: '2026-02-04 20:52'
updated_date: '2026-02-04 22:09'
labels:
  - tui
  - ratatui
dependencies:
  - TASK-0001.01
references:
  - docs/specs/tui.txt
parent_task_id: TASK-0001
priority: medium
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Implement the help popup that shows all keyboard shortcuts organized by category (Navigation, Messaging, Actions, Panes, Views, Misc). Toggled with ? key, closes on any key press.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 ? key toggles help popup overlay
- [x] #2 Help content organized in columns: Navigation, Messaging, Actions, Panes, Views, Misc
- [x] #3 All keyboard shortcuts listed with descriptions
- [x] #4 Press any key to close message at bottom
- [x] #5 Popup centered and sized appropriately for content
- [x] #6 xterm-tmux validation: Capture screenshot with help popup open showing all shortcuts
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
1. Create src/tui/help.rs with render_help_popup() function
2. Define shortcut data as static constants organized by category
3. Two-column layout using Layout::horizontal with 50/50 split
4. Add show_help: bool to App struct
5. In handle_events: when show_help is true, any key closes it
6. In handle_navigation_key: ? toggles show_help
7. In ui.rs render: after all panes, conditionally render help overlay
8. Add mod help to mod.rs
9. Build and test with xterm-tmux
<!-- SECTION:PLAN:END -->

## Final Summary

<!-- SECTION:FINAL_SUMMARY:BEGIN -->
Implemented help popup overlay for the TUI chat client.

Changes:
- Created src/tui/help.rs: Renders a centered 84x30 popup with all keyboard shortcuts organized in a two-column layout (Navigation/Panes/Views on left, Messaging/Actions/Misc on right). Uses Clear widget for overlay, Block with title/footer, and Paragraph widgets for content.
- Modified src/tui/app.rs: Added show_help: bool to App struct. In handle_events(), when show_help is true any keypress closes the popup. Added ? key binding in handle_navigation_key() to toggle the popup.
- Modified src/tui/ui.rs: After rendering all panes and status bar, conditionally renders the help overlay on top via help::render_help_popup().
- Modified src/tui/mod.rs: Added mod help declaration.

Validation:
- cargo build: compiles with zero new warnings
- cargo test: all 83 tests pass
- xterm-tmux validation: Popup renders correctly with all six categories visible, ? toggles open/close, any key (space, enter, etc.) closes the popup, underlying UI restores cleanly after close.
<!-- SECTION:FINAL_SUMMARY:END -->
